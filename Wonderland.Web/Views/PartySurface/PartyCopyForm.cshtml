@model PartyCopyForm

<div ng-init="partyCopyDataInit(@Html.Raw(Json.Encode(Model)))"></div>

<script type="text/ng-template" id="partials/partyCopyForm.html">

    @using (Html.BeginUmbracoForm<PartySurfaceController>("HandlePartyCopyForm", FormMethod.Post, new { m_serialized="", m_post_on_submit="partyCopyData", m_on_success_event="partyCopyDataUpdated" }))
    {
        @Html.AntiForgeryToken()
        <div class="form-holder margin-bottom-3">
            <h4>Party description</h4>

            <label for="Copy">Description <span>(Max. 600 characters)</span></label>
            <textarea name="Copy" ng-model="partyCopyData.Copy" m-radius-picker="small"></textarea>

            <div class="form-info" ng-show="partyCopyData.Copy.length<=600">
                <span ng-bind="600-partyCopyData.Copy.length"></span>
                <ng-pluralize count="600-partyCopyData.Copy.length" when="{'one': 'character', 'other': 'characters'}"></ng-pluralize>
                <span> remaining</span>
            </div>

            <div class="warning" ng-show="partyCopyData.Copy.length>600">
                <span class="icon-icon_alert"></span>
                <span>You have exceeded the maximum length by </span>
                <span ng-bind="partyCopyData.Copy.length-600"></span>
                <ng-pluralize count="partyCopyData.Copy.length-600" when="{'one': 'character', 'other': 'characters'}"></ng-pluralize>
            </div>
        </div>

        <button type="submit" class="btn-primary float-right" ng-disabled="partyCopyData.Copy.length>600" m-radius-picker="small medium">Save changes</button>
        <span class="cancel margin-right-1 float-right">Cancel</span>
    }
</script>